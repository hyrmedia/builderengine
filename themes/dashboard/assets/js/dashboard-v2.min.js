/*   

 Template Name: Color Admin - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.2.0

 Version: 1.4.0

 Author: Sean Ngu

 Website: http://www.seantheme.com/color-admin-v1.4/

 */var getMonthName=function(e){var t=[];return t[0]="January",t[1]="February",t[2]="March",t[3]="April",t[4]="May",t[5]="Jun",t[6]="July",t[7]="August",t[8]="September",t[9]="October",t[10]="November",t[11]="December",t[e]},getDate=function(e){var t=new Date(e),r=t.getDate(),a=t.getMonth()+1,i=t.getFullYear();return 10>r&&(r="0"+r),10>a&&(a="0"+a),t=i+"-"+a+"-"+r},handleVisitorsLineChart=function(e){var t="#0D888B",r="#00ACAC",a="#3273B1",i="#348FE2",o="rgba(0,0,0,0.6)",n="rgba(255,255,255,0.4)",l=[],s=[];all_visits=jQuery.parseJSON(e.all),unique_visits=jQuery.parseJSON(e.unique);var c=0,u=0,o=0;$.each(all_visits,function(e,t){var r=new Date,a=(new Date).setDate(r.getDate()-e),r=new Date,i=new Date(a),n=i.getDate(),d=i.getMonth()+1,h=i.getFullYear();10>n&&(n="0"+n),10>d&&(d="0"+d),r=h+"-"+d+"-"+n,l.push({x:r,y:t,z:unique_visits[e]}),s.push(t),c=parseInt(c)+parseInt(t),u=parseInt(u)+parseInt(unique_visits[e]),o++});JSON.stringify(l);$("#allVisitors").html(c);var d=parseInt(u)/parseInt(c)*100;d=Number(d.toFixed(2)),$("#newVisitors").html(d),$("#returnVisitors").html(100-d),Morris.Line({element:"visitors-line-chart",data:l,xkey:"x",ykeys:["y","z"],xLabelFormat:function(e){return e=getMonthName(e.getMonth()),e.toString()},labels:["Page Views","Unique Visitors"],lineColors:[t,a],pointFillColors:[r,i],lineWidth:"2px",pointStrokeColors:[o,o],resize:!0,gridTextFamily:"Open Sans",gridTextColor:n,gridTextWeight:"normal",gridTextSize:"11px",gridLineColor:"rgba(0,0,0,0.5)",hideHover:"auto"}),handleVisitorsDonutChartNew(d,c)},handleVisitorsDonutChartNew=function(e,t){var r="#00acac",a="#348fe2";Morris.Donut({element:"visitors-donut-chart",data:[{label:"New Visitors",value:e},{label:"Return Visitors",value:t-e}],colors:[r,a],labelFamily:"Open Sans",labelColor:"rgba(255,255,255,0.4)",labelTextSize:"12px",backgroundColor:"#242a30"})},handleVisitorsDonutChart=function(){var e="#00acac",t="#348fe2";Morris.Donut({element:"visitors-donut-chart",data:[{label:"New Visitors",value:900},{label:"Return Visitors",value:1200}],colors:[e,t],labelFamily:"Open Sans",labelColor:"rgba(255,255,255,0.4)",labelTextSize:"12px",backgroundColor:"#242a30"})},handleVisitorsVectorMap=function(e){var t=jQuery.parseJSON(e),r={},a=0;for(var i in t)r[t[i]]="#00acac",a++;0!==$("#visitors-map").length&&(map=new jvm.WorldMap({map:"world_merc_en",scaleColors:["#e74c3c","#0071a4"],container:$("#visitors-map"),normalizeFunction:"linear",hoverOpacity:.5,hoverColor:!1,markerStyle:{initial:{fill:"#4cabc7",stroke:"transparent",r:3}},regions:[{attribute:"fill"}],regionStyle:{initial:{fill:"rgb(97,109,125)","fill-opacity":1,stroke:"none","stroke-width":.4,"stroke-opacity":1},hover:{"fill-opacity":.8},selected:{fill:"yellow"},selectedHover:{}},series:{regions:[{values:e}]},focusOn:{x:.5,y:.5,scale:2},backgroundColor:"#2d353c"}))},handleScheduleCalendar=function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["S","M","T","W","T","F","S"],r=new Date,a=r.getMonth()+1,i=r.getFullYear(),o=[["2/"+a+"/"+i,"Popover Title","#","#00acac","Some contents here"],["5/"+a+"/"+i,"Tooltip with link","http://www.seantheme.com/color-admin-v1.3","#2d353c"],["18/"+a+"/"+i,"Popover with HTML Content","#","#2d353c",'Some contents here <div class="text-right"><a href="http://www.google.com">view more >>></a></div>'],["28/"+a+"/"+i,"Color Admin V1.3 Launched","http://www.seantheme.com/color-admin-v1.3","#2d353c"]],n=$("#schedule-calendar");$(n).calendar({months:e,days:t,events:o,popover_options:{placement:"top",html:!0}}),$(n).find("td.event").each(function(){var e=$(this).css("background-color");$(this).removeAttr("style"),$(this).find("a").css("background-color",e)}),$(n).find(".icon-arrow-left, .icon-arrow-right").parent().on("click",function(){$(n).find("td.event").each(function(){var e=$(this).css("background-color");$(this).removeAttr("style"),$(this).find("a").css("background-color",e)})})},handleDashboardGritterNotification=function(){$(window).load(function(){setTimeout(function(){$.gritter.add({title:"Welcome back, Admin!",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tempus lacus ut lectus rutrum placerat.",image:"assets/img/user-14.jpg",sticky:!0,time:"",class_name:"my-sticky-class"})},1e3)})},DashboardV2=function(){"use strict";return{init:function(){handleVisitorsLineChart(),handleVisitorsDonutChart(),handleVisitorsVectorMap(),handleScheduleCalendar(),handleDashboardGritterNotification()}}}();